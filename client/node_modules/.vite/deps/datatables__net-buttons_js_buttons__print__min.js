import "./chunk-ZG3DFMJ4.js";
import {
  dataTables_default
} from "./chunk-WTWCPV25.js";
import {
  require_jquery
} from "./chunk-F5UAAMZH.js";
import {
  __toESM
} from "./chunk-EWTE5DHJ.js";

// node_modules/datatables.net-buttons/js/buttons.print.min.mjs
var import_jquery = __toESM(require_jquery(), 1);
var $ = import_jquery.default;
var _link = document.createElement("a");
var _styleToAbs = function(t) {
  t = $(t).clone()[0];
  return "link" === t.nodeName.toLowerCase() && (t.href = _relToAbs(t.href)), t.outerHTML;
};
var _relToAbs = function(t) {
  _link.href = t;
  t = _link.host;
  return -1 === t.indexOf("/") && 0 !== _link.pathname.indexOf("/") && (t += "/"), _link.protocol + "//" + t + _link.pathname + _link.search;
};
dataTables_default.ext.buttons.print = { className: "buttons-print", text: function(t) {
  return t.i18n("buttons.print", "Print");
}, action: function(t, e, o, n, r) {
  var a = e.buttons.exportData($.extend({ decodeEntities: false }, n.exportOptions)), i = e.buttons.exportInfo(n), s = e.columns(n.exportOptions.columns).nodes().map(function(t2) {
    return t2.className;
  }).toArray(), u = '<table class="' + e.table().node().className + '">';
  n.header && (u += "<thead>" + a.headerStructure.map(function(t2) {
    return "<tr>" + t2.map(function(t3) {
      return t3 ? '<th colspan="' + t3.colspan + '" rowspan="' + t3.rowspan + '">' + t3.title + "</th>" : "";
    }).join("") + "</tr>";
  }).join("") + "</thead>"), u += "<tbody>";
  for (var l = 0, c = a.body.length; l < c; l++) u += function(t2, e2) {
    for (var o2 = "<tr>", n2 = 0, r2 = t2.length; n2 < r2; n2++) {
      var a2 = null === t2[n2] || void 0 === t2[n2] ? "" : t2[n2];
      o2 += "<" + e2 + " " + (s[n2] ? 'class="' + s[n2] + '"' : "") + ">" + a2 + "</" + e2 + ">";
    }
    return o2 + "</tr>";
  }(a.body[l], "td");
  u += "</tbody>", n.footer && a.footer && (u += "<tfoot>" + a.footerStructure.map(function(t2) {
    return "<tr>" + t2.map(function(t3) {
      return t3 ? '<th colspan="' + t3.colspan + '" rowspan="' + t3.rowspan + '">' + t3.title + "</th>" : "";
    }).join("") + "</tr>";
  }).join("") + "</tfoot>"), u += "</table>";
  var p = window.open("", "");
  if (p) {
    p.document.close();
    var d = "<title>" + i.title + "</title>";
    $("style, link").each(function() {
      d += _styleToAbs(this);
    });
    try {
      p.document.head.innerHTML = d;
    } catch (t2) {
      $(p.document.head).html(d);
    }
    n.customScripts && n.customScripts.forEach(function(t2) {
      var e2 = p.document.createElement("script");
      e2.src = t2, p.document.getElementsByTagName("head")[0].appendChild(e2);
    }), p.document.body.innerHTML = "<h1>" + i.title + "</h1><div>" + (i.messageTop || "") + "</div>" + u + "<div>" + (i.messageBottom || "") + "</div>", $(p.document.body).addClass("dt-print-view"), $("img", p.document.body).each(function(t2, e2) {
      e2.setAttribute("src", _relToAbs(e2.getAttribute("src")));
    }), n.customize && n.customize(p, n, e);
    p.setTimeout(function() {
      n.autoPrint && (p.print(), p.close());
    }, 1e3), r();
  } else e.buttons.info(e.i18n("buttons.printErrorTitle", "Unable to open print view"), e.i18n("buttons.printErrorMsg", "Please allow popups in your browser for this site to be able to view the print view."), 5e3);
}, async: 100, title: "*", messageTop: "*", messageBottom: "*", exportOptions: {}, header: true, footer: true, autoPrint: true, customize: null };
var buttons_print_min_default = dataTables_default;
export {
  buttons_print_min_default as default
};
/*! Bundled license information:

datatables.net-buttons/js/buttons.print.min.mjs:
  (*!
   * Print button for Buttons and DataTables.
   * Â© SpryMedia Ltd - datatables.net/license
   *)
*/
//# sourceMappingURL=datatables__net-buttons_js_buttons__print__min.js.map
